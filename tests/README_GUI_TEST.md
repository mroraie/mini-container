# تست جامع GUI - مینی کانتینر

این تست جامع تمام مفاهیم سیستم‌عامل را از طریق رابط گرافیکی نمایش می‌دهد.

## نحوه استفاده

### 1. راه‌اندازی سرور وب

ابتدا سرور وب را راه‌اندازی کنید:

```bash
# ساخت پروژه
make ui

# اجرای سرور وب
./mini-container-ui
```

سرور روی پورت 8080 اجرا می‌شود (می‌توانید پورت دیگری هم مشخص کنید).

### 2. باز کردن رابط گرافیکی

مرورگر خود را باز کنید و به آدرس زیر بروید:

```
http://localhost:8080
```

### 3. اجرای تست جامع

دو روش برای اجرای تست وجود دارد:

#### روش 1: از طریق رابط گرافیکی

1. در صفحه اصلی، روی دکمه **"اجرای تست جامع"** کلیک کنید
2. نتایج تست به صورت مرحله به مرحله نمایش داده می‌شود

#### روش 2: از طریق خط فرمان

```bash
./tests/test_gui_comprehensive.sh
```

## ویژگی‌های GUI

### نمایش روند اجرا

- هنگام ایجاد کانتینر، روند اجرا به صورت real-time نمایش داده می‌شود
- هر مرحله از ایجاد کانتینر (تنظیم حافظه، CPU، hostname و ...) نمایش داده می‌شود

### تست جامع

تست جامع شامل مراحل زیر است:

1. **ایزولاسیون فضای نام PID**: نمایش جداسازی شناسه فرایندها
2. **ایزولاسیون فضای نام Mount**: نمایش جداسازی فایل‌سیستم
3. **ایزولاسیون فضای نام UTS**: نمایش جداسازی hostname
4. **مدیریت منابع با cgroups**: نمایش محدودیت CPU و حافظه
5. **ایزولاسیون فایل‌سیستم با chroot**: نمایش تغییر دایرکتوری ریشه
6. **چرخه حیات کانتینر**: نمایش حالت‌های مختلف کانتینر
7. **فراخوانی‌های سیستمی**: نمایش استفاده از clone(), mount(), chroot()
8. **مثال عملی**: اجرای دستور در کانتینر ایزوله

### لیست کانتینرها

- نمایش تمام کانتینرهای موجود
- نمایش وضعیت هر کانتینر (CREATED, RUNNING, STOPPED, DESTROYED)
- نمایش اطلاعات CPU و حافظه استفاده شده
- بروزرسانی خودکار هر 5 ثانیه

## مفاهیم سیستم‌عامل

این GUI و تست جامع مفاهیم زیر را نمایش می‌دهد:

### 1. فضای نام (Namespaces)

- **PID Namespace**: ایزولاسیون شناسه فرایند
- **Mount Namespace**: ایزولاسیون فایل‌سیستم
- **UTS Namespace**: ایزولاسیون hostname

### 2. Cgroups

- محدودیت CPU از طریق `cpu.shares`
- محدودیت حافظه از طریق `memory.limit_in_bytes`
- ردیابی استفاده از منابع

### 3. Chroot

- تغییر دایرکتوری ریشه
- ایزولاسیون فایل‌سیستم

### 4. فراخوانی‌های سیستمی

- `clone()`: ایجاد فرایند با فضای نام
- `unshare()`: دستکاری فضای نام
- `mount()`: عملیات فایل‌سیستم
- `chroot()`: تغییر دایرکتوری ریشه

## نکات مهم

- برای اجرای کامل کانتینرها، نیاز به دسترسی root دارید
- در محیط‌های بدون root، برخی عملیات ممکن است با خطا مواجه شوند
- GUI به صورت دمو عمل می‌کند و می‌تواند مفاهیم را حتی بدون دسترسی root نمایش دهد

## عیب‌یابی

### سرور شروع نمی‌شود

```bash
# بررسی اینکه پورت 8080 آزاد است
netstat -an | grep 8080

# یا استفاده از پورت دیگری
./mini-container-ui 8081
```

### خطای دسترسی

اگر خطای دسترسی دریافت کردید، ممکن است نیاز به دسترسی root داشته باشید:

```bash
sudo ./mini-container-ui
```

### مرورگر به صفحه وصل نمی‌شود

- بررسی کنید که سرور در حال اجرا است
- بررسی کنید که فایروال پورت 8080 را مسدود نکرده است
- از `http://localhost:8080` استفاده کنید (نه `https://`)

